# C++解决栈溢出

- 前提

  1.局部变量属于栈内存！

  2.全局变量和statis变量位于全局区，程序结束后由系统释放！
（不会栈溢出）

  因此，防止栈溢出，要**减少局部变量**。

- 具体

  即**函数体和main函数内的变量不能多！（栈内存只有几M）**

  一个int型局部变量占4个字节

  一个double型局部变量占8个字节

  1M=1048576个字节，最多

  可定义 262144个int型局部变量

  可定义 131072个double型局部变量

  **指针无论什么类型，在32位操作系统下占4个字节，在64位操作系统下占8个字节**

- 栈溢出（stack overflow）的情况：
  
  double numA[1000][1000];

  1000*1000=1000000个double型变量

  这样局部变量占用的内存过大，会超出栈内存范围！

  解决方法：**将数组改成STL的vector**

  3.若一个函数有很多局部变量，栈内存会一直占用，但是当一个函数return时，会释放掉栈内存！

  **解决方法**:为了防止栈溢出，可以将一个多局部变量的函数拆分为多个，

  用指针和STL来替代数据量大的变量.
